import{u as m,j as e,B as p,r as c,b as g,N as t,O as f}from"./index-CvOK6pca.js";import{C as o,P as j}from"./constants-C-b4r1xk.js";import{F as h,a as N,b,c as y,d as v,e as w,f as I,g as M,h as A,i as E}from"./index-B8cdnCNl.js";const D=()=>{const{logout:a,currentUser:r}=m(),n=()=>{a(),p.info("You have been logged out successfully")};return e.jsxs("nav",{className:"flex items-center justify-between p-4 bg-white shadow",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 mr-3 overflow-hidden rounded-full",children:e.jsx("img",{src:o.logo,alt:"Company Logo",className:"object-cover w-full h-full",onError:l=>{l.target.onerror=null,l.target.src=j}})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:"HR Dashboard"}),e.jsx("p",{className:"text-xs text-gray-500",children:o.name})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"mr-4 text-sm font-medium text-gray-700",children:["Welcome, ",r==null?void 0:r.username]}),e.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 font-bold text-white transition bg-red-600 rounded hover:bg-red-700",children:[e.jsx(h,{className:"mr-2"})," Logout"]})]})]})},C=()=>{const[a,r]=c.useState(0),[n,l]=c.useState(0),{currentUser:i,logout:u}=m();c.useEffect(()=>{d(),x();const s=setInterval(()=>{d(),x()},6e4);return()=>clearInterval(s)},[]);const d=async()=>{try{const{data:s}=await g.get("/notifications/unread-count");r(s.count||0)}catch(s){console.error("Failed to fetch notification count",s)}},x=async()=>{try{const{data:s}=await g.get("/admin/travel-documents/expiring-count");l(s.count||0)}catch(s){console.error("Failed to fetch expiring documents count",s)}};return e.jsxs("aside",{className:"flex flex-col w-64 bg-gray-800 text-white overflow-y-auto",children:[e.jsx("div",{className:"p-5 bg-gray-900",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("img",{src:"/Frame 3.png",alt:o.shortName,className:"w-16 h-16 object-contain mb-3",onError:s=>{s.target.onerror=null,s.target.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIiBmaWxsPSJub25lIj48cmVjdCB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9IiM0QjU1NjMiLz48L3N2Zz4="}}),e.jsx("h1",{className:"text-xl font-bold",children:o.name})]})}),e.jsxs("div",{className:"p-5 flex items-center border-b border-gray-700",children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-3 bg-gray-600",children:e.jsx("img",{src:"/img1.jpg",alt:"Admin",className:"w-full h-full object-cover",onError:s=>{s.target.onerror=null,s.target.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiB2aWV3Qm94PSIwIDAgMTUwIDE1MCIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSIxNTAiIGZpbGw9IiNEMUQxRDEiLz48L3N2Zz4="}})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:(i==null?void 0:i.name)||"Admin User"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Administrator"})]})]}),e.jsxs("nav",{className:"flex flex-col p-4 space-y-2",children:[e.jsx("div",{className:"px-4 py-2 mt-2 text-xs text-gray-400 uppercase",children:"Employees"}),e.jsxs(t,{to:"/admin/employees",className:({isActive:s})=>`flex items-center px-4 py-2 rounded transition-colors ${s?"bg-yellow-700":"hover:bg-yellow-700"}`,children:[e.jsx(N,{className:"mr-2"})," Employee List"]}),e.jsxs(t,{to:"/admin/add-employee",className:({isActive:s})=>`flex items-center px-4 py-2 rounded transition-colors ${s?"bg-orange-700":"hover:bg-orange-700"}`,children:[e.jsx(b,{className:"mr-2"})," Add Employee"]}),e.jsx("div",{className:"px-4 py-2 mt-4 mb-2 text-xs text-gray-400 uppercase",children:"Management"}),e.jsxs(t,{to:"/admin/attendance",className:({isActive:s})=>`flex items-center px-4 py-2 rounded transition-colors ${s?"bg-green-700":"hover:bg-green-700"}`,children:[e.jsx(y,{className:"mr-2"})," Attendance"]}),e.jsxs(t,{to:"/admin/leaves",className:({isActive:s})=>`flex items-center px-4 py-2 rounded transition-colors ${s?"bg-purple-700":"hover:bg-purple-700"}`,children:[e.jsx(v,{className:"mr-2"})," Leaves"]}),e.jsxs(t,{to:"/admin/employee-documents",className:({isActive:s})=>`flex items-center px-4 py-2 rounded transition-colors ${s?"bg-teal-600":"hover:bg-teal-600"}`,children:[e.jsx(w,{className:"mr-2"})," Documents"]}),e.jsxs(t,{to:"/admin/visa-passport",className:({isActive:s})=>`flex items-center px-4 py-2 rounded relative transition-colors ${s?"bg-cyan-600":"hover:bg-cyan-600"}`,children:[e.jsx(I,{className:"mr-2"})," Visa/Passport",n>0&&e.jsx("span",{className:"absolute top-0 right-0 transform translate-x-1 -translate-y-1 bg-red-500 text-xs rounded-full h-5 w-5 flex items-center justify-center",children:n})]}),e.jsx("div",{className:"px-4 py-2 mt-4 mb-2 text-xs text-gray-400 uppercase",children:"Communication"}),e.jsxs(t,{to:"/admin/messages",className:({isActive:s})=>`flex items-center px-4 py-2 rounded transition-colors ${s?"bg-fuchsia-600":"hover:bg-fuchsia-600"}`,children:[e.jsx(M,{className:"mr-2"})," Messages"]}),e.jsxs(t,{to:"/admin/notifications",className:({isActive:s})=>`flex items-center px-4 py-2 rounded relative ${s?"bg-pink-600":"hover:bg-pink-600"}`,children:[e.jsx(A,{className:"mr-2"})," Notifications",a>0&&e.jsx("span",{className:"absolute top-0 right-0 transform translate-x-1 -translate-y-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a>9?"9+":a})]}),e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-700",children:[e.jsxs(t,{to:"/admin/settings",className:({isActive:s})=>`flex items-center px-4 py-2 rounded transition-colors ${s?"bg-lime-700":"hover:bg-lime-700"}`,children:[e.jsx(E,{className:"mr-2"})," Settings"]}),e.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 rounded text-gray-400 hover:bg-red-700 hover:text-white w-full transition-colors",children:[e.jsx(h,{className:"mr-2"})," Sign Out"]})]})]})]})},F=({children:a})=>e.jsxs("div",{className:"flex h-screen bg-gray-100",children:[e.jsx(C,{}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx(D,{}),e.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:a})]})]}),z=()=>{const{currentUser:a}=m();return e.jsxs(F,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"mb-2 text-2xl font-semibold",children:["Welcome, ",a==null?void 0:a.username]}),e.jsx("p",{className:"text-gray-600",children:"Manage your employees with the HR Employee Management System"})]}),e.jsx(f,{})]})};export{z as default};
