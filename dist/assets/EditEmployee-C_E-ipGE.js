import{c as h,a as g,r as s,j as e,b as u,B as b}from"./index-CvOK6pca.js";import{E as j}from"./EmployeeForm-BbmSt1Si.js";import"./index-B8cdnCNl.js";import"./helpers-CaOlnEck.js";const F=()=>{const{id:o}=h(),y=g(),[r,f]=s.useState(null),[l,n]=s.useState(""),[d,m]=s.useState(!0),[x,i]=s.useState(!1);s.useEffect(()=>{(async()=>{try{const{data:t}=await u.get(`/admin/employees/${o}`);f(t),m(!1)}catch{n("Failed to fetch employee details"),m(!1)}})()},[o]);const E=async c=>{var t,p;try{i(!0);const{data:a}=await u.put(`/admin/employees/${o}`,c);return i(!1),b.success("Employee updated successfully"),y("/admin/employees"),a}catch(a){throw n(((p=(t=a.response)==null?void 0:t.data)==null?void 0:p.message)||"Failed to update employee"),i(!1),a}};return d?e.jsx("div",{className:"flex justify-center p-8",children:"Loading employee data..."}):!r&&!d?e.jsx("div",{className:"p-4 text-center text-red-500",children:"Employee not found"}):e.jsxs("div",{children:[e.jsx("h2",{className:"mb-6 text-2xl font-semibold",children:"Edit Employee"}),l&&e.jsx("div",{className:"p-3 mb-4 text-white bg-red-500 rounded",children:l}),e.jsx(j,{onSubmit:E,loading:x,initialData:r,isEditMode:!0})]})};export{F as default};
